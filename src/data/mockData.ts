import type { Task, Column } from "@/types"

export const mockTasks: Task[] = [
  {
    id: "1",
    title: "Implement OAuth 2.0 authentication flow",
    taskId: "AUTH-123",
    priority: "high",
    status: "in-progress",
    assignee: { name: "Sarah Chen", initials: "SC", id: "user-1" }, // Current user
    branch: "feature/auth-123-oauth-integration",
    pullRequest: { status: "draft", number: 234 },
    commits: [
      { hash: "a1b2c3d", message: "Add Google OAuth provider", author: "Sarah Chen", timestamp: "2 hours ago" },
      { hash: "e4f5g6h", message: "Setup OAuth configuration", author: "Sarah Chen", timestamp: "4 hours ago" },
    ],
    unreadComments: 2,
    epic: "Authentication",
    labels: ["backend", "security"],
    dueDate: "Dec 15",
    estimatedHours: 16,
    completedHours: 12,
    aiReasoning:
      "I assigned this to Sarah because she wrote the original implementation of our authentication system. Her current workload is light, and this task directly aligns with her expertise in OAuth and security protocols.",
  },
  {
    id: "2",
    title: "Fix memory leak in data processing pipeline",
    taskId: "PERF-456",
    priority: "critical",
    status: "in-review",
    assignee: { name: "Alex Rivera", initials: "AR", id: "user-2" },
    branch: "fix/memory-leak-processing",
    pullRequest: { status: "checks-running", number: 235 },
    reviewRequested: true, // Current user is requested to review
    epic: "Performance",
    labels: ["backend", "performance"],
    dueDate: "Dec 12",
    estimatedHours: 8,
    completedHours: 8,
  },
  {
    id: "3",
    title: "Update API documentation for v2.0",
    taskId: "DOCS-789",
    priority: "medium",
    status: "in-review",
    assignee: { name: "Maria Garcia", initials: "MG", id: "user-3" },
    pullRequest: { status: "open", number: 236 },
    reviewRequested: true, // Current user is requested to review
    epic: "Documentation",
    labels: ["docs"],
    lastActivity: "6 hours ago",
    estimatedHours: 4,
    completedHours: 3,
  },
  {
    id: "4",
    title: "Database migration for user preferences",
    taskId: "DB-101",
    priority: "low",
    status: "todo",
    mentions: true, // Current user is mentioned
    epic: "Database",
    labels: ["backend", "migration"],
    dueDate: "Dec 20",
  },
  {
    id: "5",
    title: "Implement real-time notifications",
    taskId: "FEAT-202",
    priority: "medium",
    status: "backlog",
    epic: "Features",
    labels: ["frontend", "websockets"],
  },
  {
    id: "6",
    title: "Setup CI/CD pipeline for staging",
    taskId: "DEVOPS-303",
    priority: "high",
    status: "todo",
    assignee: { name: "David Kim", initials: "DK", id: "user-4" },
    epic: "DevOps",
    labels: ["devops", "ci-cd"],
    estimatedHours: 12,
    completedHours: 2,
  },
  {
    id: "7",
    title: "User dashboard redesign",
    taskId: "UI-404",
    priority: "medium",
    status: "done",
    assignee: { name: "Emma Wilson", initials: "EW", id: "user-5" },
    pullRequest: { status: "merged", number: 230 },
    epic: "UI/UX",
    labels: ["frontend", "design"],
    estimatedHours: 20,
    completedHours: 20,
  },
  // Additional tasks assigned to current user
  {
    id: "8",
    title: "Code review for authentication module",
    taskId: "REV-501",
    priority: "high",
    status: "todo",
    assignee: { name: "Sarah Chen", initials: "SC", id: "user-1" }, // Current user
    epic: "Authentication",
    labels: ["review", "security"],
    dueDate: "Dec 13",
    estimatedHours: 4,
    completedHours: 0,
  },
  {
    id: "9",
    title: "Security audit preparation",
    taskId: "SEC-602",
    priority: "critical",
    status: "in-progress",
    assignee: { name: "Sarah Chen", initials: "SC", id: "user-1" }, // Current user
    epic: "Security",
    labels: ["security", "audit"],
    dueDate: "Dec 14",
    estimatedHours: 8,
    completedHours: 3,
  },
]

export const createColumns = (tasks: Task[]): Column[] => [
  {
    id: "backlog",
    title: "Backlog",
    tasks: tasks.filter((t) => t.status === "backlog"),
    avgTimeInColumn: "2.3 days",
  },
  {
    id: "todo",
    title: "To Do",
    tasks: tasks.filter((t) => t.status === "todo"),
    avgTimeInColumn: "1.2 days",
  },
  {
    id: "in-progress",
    title: "In Progress",
    tasks: tasks.filter((t) => t.status === "in-progress"),
    avgTimeInColumn: "3.1 days",
  },
  {
    id: "in-review",
    title: "In Review",
    tasks: tasks.filter((t) => t.status === "in-review"),
    hasBottleneck: true,
    avgTimeInColumn: "4.7 days",
    oldestTask: "6 days",
  },
  {
    id: "done",
    title: "Done",
    tasks: tasks.filter((t) => t.status === "done"),
    avgTimeInColumn: "0.5 days",
  },
]
